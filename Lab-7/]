<!doctype html>
<!--
lab 7
create webpage that allows the user to enter some text, then check if it matches one of the provided formats. There should exist functions to test each of the formats:

x isJavaIdentifier(testString)
- isPhone(testString)
- isEmail(testString)
- isDate(testString)
- isEid(testString)
-->
<html>
<head>
	<title>Lab 7</title>

	<style>
		div {
			background: #eee;
			width: 12em;
			height: 12em;
		}
	</style>

	<script>
		function init(){
			console.log($.all("input"));
		}

// after rereading the requirements it seems that this is not the format you want this lab in
/*
		// I'm not sure if this is a good way to do this but it works and it looks awesome
		// if this is considered "acceptable" js js is my new favorite language

		var is = {
			javaIdent: function (testVar){
				return /^[a-zA-Z$_](?:[a-zA-Z0-9$_]+)?$/.test(testVar);
			},

			phone: function (testVar){
				return /\d+/.test(testVar);
			},

			email: function (testVar){
				return /\d+/.test(testVar);
			},

			// this is a string to avoid the built in date thing?
			"date": function (testVar){
				return /\d+/.test(testVar);
			},

			eId: function (testVar){
				return /\d+/.test(testVar);
			}
		}

		function submit(){
			var type = getSelected();
			// NOTE: to self regex does weird things when tested against objects
			var value = document.querySelector("input[name=input]").value;
			// after using querySelector so much I'm starting to wonder how efficient it is compared to getElementById and such
			var div = document.querySelector("div");
			if(is[type](value)){
				div.style.background = "green";
			}else{
				div.style.background = "red";
			}
		}
*/

		// I don't like this solution as much as the one above but its still AWESOME KFLJDAFKJDLVKJ
		function isJavaIdentifier(testVar){
				return /^[a-zA-Z$_](?:[a-zA-Z0-9$_]+)?$/.test(testVar);
		}

		function isPhone(testVar){
				return /\+?\d+/.test(testVar);
		}
		
		function isEmail(testVar){
				return /w/.test(testVar);
		}

		function isDate(testVar){
				return /w/.test(testVar);
		}

		function isEid(testVar){
				return /w/.test(testVar);
		}

		function changeDiv(func, div, value){
			if(func(value)){
				div.style.background = "green";
			}else{
				div.style.background = "red";
			}
		}

		var $ = function (search){
			return document.querySelector(search);

			var all = 		}

		function submit(){
			var input = getSelected();
			var value = document.querySelector("input[name=input]").value;
			var div = document.querySelector("div");
			switch(input){
				case "javaIdent":
					changeDiv(isJavaIdentifier, div, value);
					break;

				case "phone":
					changeDiv(isPhone, div, value);
					break;

				case "email":
					changeDiv(isEmail, div, value);
					break;

				case "date":
					changeDiv(isDate, div, value);
					break;

				case "eId":
					changeDiv(isEid, div, value);
					break;

				default:
					console.log("yup you broke it");
					break;
			}
		}

		function getSelected(){
			var y = document.querySelectorAll("input[name=stringType]");
			for(i = 0; i < y.length; i++){
				// checked http://www.w3schools.com/jsref/dom_obj_radio.asp
				if(y[i].checked == true){
					return y[i].value
				}
			}
		}
		
	</script>

</head>

<body onload="init()">
<input type="radio" name="stringType" value="javaIdent" checked />Java Identifier <br />
<input type="radio" name="stringType" value="phone" />Phone Number <br />
<input type="radio" name="stringType" value="email" />Email <br />
<input type="radio" name="stringType" value="date" />date <br />
<input type="radio" name="stringType" value="eId" />Eid <br />
<!-- thematic space -->
<input type="text" name="input"> <br />
<button onclick="submit();">Test String</button>

<div>
</div>

</body>
</html>
