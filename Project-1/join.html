<!doctype html>
<!--
x Register new users (join.html)
x a page holding a form for visitors to join
- must require a user to register with a valid
x username
x password
x first name/last name
x e-mail
x date of birth
- gender
x requested title
x Credit card number
x favorite type of apple (something in a select box)
TODO: fix this last bit to account for the google cookies
x if the user is already logged in, the page says thanks for supporting
-->
<html lang="en">
<head>
	<title>Join us!</title>
	<link rel="stylesheet" href="club-general.css" type="text/css"/>
	<link rel="stylesheet" href="club-form.css" type="text/css"/>
	<meta charset="UTF-8">
	<script>
		function join(){
			document.cookie = "username = " + document.querySelector("input[name=username]").value + ";";
		}

		function logOut(){
			document.cookie = "username= ";
			location.reload();
		}

		function init() {
			//this is a bad way of doing things the google cookies sometimes get in the way and runin things
			if(!(document.cookie == "username=") && (document.cookie)){
				document.querySelector("h1").innerHTML = "";
				document.querySelector("form").innerHTML = "<h1>Thank you for your support</h1><h1>" + document.cookie.split("=")[1] + "!</h1><button class='btn' onclick='logOut();'>Log Out</button>";
				var x = document.createElement("style");
				var y = document.createTextNode("html{height:100%}h1{font-size: 3em;} h1{margin:1em 0 0.5em 0;}");
				x.appendChild(y);
				document.querySelector("html").appendChild(x);
			}
		}
		/* To get the welcom back page delete the h1 form and the footer*/
	
	</script>
</head>

<body onload="init();">

<nav id="topNav">

	<ul>
		<li><a href="index.html">Home</a></li>
		<li><a href="about.html">About Us</a></li>
		<li><a href="gengar.html">What's a Gengar?</a></li>
		<li><a href="join.html">Join Us!</a></li>
	</ul>

</nav>

<h1>New Member Registration</h1>

<form method="POST" action="#"> 
 <!-- comfirm passwords -->

	<fieldset>
		<legend>Username and Passowrd</legend>
		<label>Username: <input type="text" name="username" placeholder="username" maxlength="25"	pattern="[\w]+" required autofocus /></label>
		<label>Password: <input type="password" name="password" placeholder="password" maxlength="25" pattern="[\w ]+" required /></label>
		<label>Confirm Password: <input type="password" name="confPassword" placeholder="password" maxlength="25" pattern="\w+" required /></label>
	</fieldset>

	<fieldset>
		<legend>Personal information</legend>
		<label>Fullname: <input type="text" name="name" placeholder="John/Jane Doe" maxlength="50" pattern="\w+[ ]\w+(?:[ ]\w+)?" required /></label>
		<label>Birth Date: <input type="text" name="dob" placeholder="02/26/1997" pattern="(?:1[1-2]|[0]?\d)[-/ ](?:[012]?\d|3[01])[-/ ](?:\d{2}|\d{4})" required /></label>
		<label>Email: <input type="email" name="email" placeholder="John/JaneDoe@mail.com" maxlength="50" pattern="\w+@\w+\.\w+" required /></label>
		<label>Gender: <input type="text" name="gender" placeholder="" pattern="\w+" maxlength="10" required/></label>
	</fieldset>

	<fieldset>
		<legend>Credit card info</legend>
		<!-- four of any four digets fillowed by a "-", "/", or " "-->
		<label>Credit Card Number: <input type="text" name="creditCard" placeholder="5555-5555-5555-5555" pattern="^(?:\d{4}[-/ ]?){4}$" required /></label>
		<label>Experation Date: <input type="text" name="experationDate" placeholder="mm/yy" pattern="(?:1[1-2]|(?:[0][1-9])+|[1-9])[-/ ]?(?:\d{2}|\d{4})" required /></label>
		<label>Security Pin: <input type="text" name="securePin" placeholder="123" pattern="(?:\d){3}" required /></label>
	</fieldset>

	<fieldset>
		<legend>Club info</legend>
		<label>Requested Title: <input type="text" name="reqTitle" placeholder="bebop" maxlength="25" pattern="[\w| ]+" required /></label>
		<label>Pokemon Go Team:

			<select>
				<option value="" selected>N/A</option>
				<option value="mystic" >Mystic</option>
				<option value="instinct">Instinct</option>
				<option value="valor">Valor</option>
			</select>

		</label>
	</fieldset>
	
	<!-- yes this button will run the script weather the form is valid or not -->
	<button onclick="join();" class="btn" type="submit">Join up!</button>
</form>

<footer> 
	<a href="sitemap.html" id="sitemap">sitemap</a>
</footer>

</body>

</html>
